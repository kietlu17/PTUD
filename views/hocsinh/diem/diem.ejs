<%- include('../../partials/header', { title: 'Xem Điểm' }) %>

<div class="container-fluid">
  <div class="row">

    <!-- Sidebar -->
    <%- include('../../partials/nav-hocsinh') %>

    <!-- Embedded page content -->
    <main class="col-md-10 content">


<% if (!scores || scores.length === 0) { %>
  <div class="alert alert-info">
    Chưa có dữ liệu điểm.
  </div>
<% } else { %>
  <div class="table-responsive">
    <table class="table table-bordered table-hover align-middle text-center">
      <thead class="table-light">
        <tr>
          <th rowspan="2">Môn</th>
          <th rowspan="2">Học kỳ</th>
          <th rowspan="2">Năm học</th>
          <th colspan="2">Thường xuyên</th>
          <th colspan="2">1 tiết</th>
          <th rowspan="2">Giữa kỳ</th>
          <th rowspan="2">Cuối kỳ</th>
          <th rowspan="2">TB</th>
        </tr>
        <tr>
          <th>TX1</th>
          <th>TX2</th>
          <th>1T1</th>
          <th>1T2</th>
        </tr>
      </thead>

      <tbody>
        <% scores.forEach(s => { %>
          <tr>
            <td class="fw-semibold text-start"><%= s.TenMon %></td>
            <td><%= s.HocKy || '-' %></td>
            <td><%= s.NamHoc || '-' %></td>

            <td><%= s.DiemTX1 ?? '-' %></td>
            <td><%= s.DiemTX2 ?? '-' %></td>
            <td><%= s.Diem1T1 ?? '-' %></td>
            <td><%= s.Diem1T2 ?? '-' %></td>
            <td><%= s.DiemGK ?? '-' %></td>
            <td><%= s.DiemCK ?? '-' %></td>

            <td class="fw-bold">
              <%= s.DiemTB != null ? s.DiemTB.toFixed(2) : '-' %>
            </td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  </div>
<% } %>
    </main>

  </div>
</div>
</body>
</html>